\chapter{ Среда разработки } \label{chapt3}

%45

Разработка большого приложения с участием огромного количества разработчиков требует умения координировать действия, отслеживать кто что сделать, разрешать конфликты одновременной правки файлов, отслеживать, что приложение работает корректно. Все это проблемы будут рассмотрены в этой главе.

\section{ Три правила} \label{sect3_1}

Разработка любого уровня приложение подразумевает соблюдение трёх основных правил:
\begin{itemize}
\item Управляй исходным кодом;
\item Используй одношаговую сборку;
\item Отслеживайте свои ошибки.

\end{itemize}

\section{ Управление исходным кодом} \label{sect3_2}

Неважно, один ли разработчик в проекте или сотня --- используйте систему контроля за исходных кодом. Если же Вы до сих пор не используете систему контроля версий --- Вам стоит немедленно остановить разработку и внедрить её.

\section{ Что значит управлять исходным кодом?} \label{sect3_3}

Умение в любой момент времени вернуться к ранее сделаным правкам --- есть суть управления исходным кодом. Многие студии разработки позволяют хранить историю изменений исходных кодов, но лишь до того, как вы закроете их и потеряете всю историю изменений. Некоторые форматы, как, например, Corel WordPerfect, хранят всю историю правок внутри себя, но таким образом размер файла растёт после каждой правки, что неминуемо приведет к <<жирному>> проекту. Умение хранить историю изменений называется версионирование.

\section{ Версионирование } \label{sect3_3}

Версионирование --- одна из главных особенностей управление исходным кодом, позволяющая в любой момент времени получить любую версию исходного кода. Работа с системой контроля версий  проходит по следующему алгоритму. Сначала пользователь делает клонирование исходного кода из внешнего репозитория ( места, где хранятся все версии исходного кода ), после этого вносит правки, и, наконец, фиксирует изменения в удаленном репозитории. Таким образом в репозитории появится новая версия документа. Каждая версия документа имеет уникальный идентификатор, называемый номером ревизии. Когда пользователь клонирует к себе фалы из репозитория, он всегда получает самую новую версию файла.

%47

\section{ Откат изменений } \label{sect3_4}

В системе контроля версий не было бы смысла, не будь там возможности в любой момент времени получить любую версию файла, отменив совершенные изменения. Получать состояние системы возможно по номеру ревизии, по дате и времени существования ревизии, по тэгам и веткам. Таким образом всегда есть возможность откатить исходный код на любой состояние.

\section{ Журналирование } \label{sect3_5}

Каждый раз при фиксировании изменений, разработчик может указать комментарий ( лог ). В комментарии можно описать внесенные изменения, причины и следствия изменений. В дальнейшем это комментарии помогут лучше определить какая ревизия за что отвечает.

\section{ Различия } \label{sect3_6}

Команда \textbf{diff} позволяет отобразить различия между двумя файлами. Различия выводиться в виде строк, которые были изменены, удалены, добавлены; при это сразу видно что было и что стало. Просматривая различия совместно с логами можно лучше понять причины внесенных изменений, а так же понять кто совершил эти изменения...

%48

\section{ Одновременная правка и слияния } \label{sect3_7}

Одновременное редактирование проекта подразумевает, что каждый редактор будет иметь своего пользователя в системе контроля версий. Таким образом можно журналировать все внесенные изменения конкретным пользователем.

Если два пользователя одновременно редактировали один и тот же файл, и попытались зафиксировать внесенные изменения, то неминуемо придётся выполнять слияние двух правок. Если же пользователи редактировали разные участки одного файла, то большинство система контроля версий смогут в автоматическом режиме разрешить все возникшие конфликты. Если же правился один и тот же участок кода, то неминуема ручное слияние.

На практике конфликты встречаются очень редко. Обычно они возникают если разработчики не часто обновляют свои рабочее версии с репозитория. Или же два разработчика работают над одним и тем же кодом, что говорит о плохой коммуникацией между ними.

Для версионирования бинарных файлов или изображений может потребоваться использование специализированных средства контроля версий.

\section{ Аннотации } \label{sect3_7}

Большинство систем контроля версий позволяют пользователю просмотреть данные по каждой строчке, где указаны время изменения, автор изменения, номер ревизии.

%49

Просмотр аннотации позволяет определить ревизию, где были внесены правки. По этим данным можно просмотреть лог фиксирования изменения, не просматривая каждую ревизию.

\section{ Обсуждение блокировок } \label{sect3_7}

Система контроля версий подразумевает, что любой пользователь может в любой момент времени редактировать любой файл. Но иногда возникает необходимость запретить другим пользователям вносить правки в определенный файл на время редактирования этого файла кем-то.

Блокировки несут два проблемы, с одной стороны одни полностью помогают избежать конфликтов, но не дают одновременной правки разных частей одного и того же документа, где не может быть конфликтов. Вторая проблема связана с тем, что кто-то может забыть снять блокировку с файла и тогда файл может остаться заблокированным надолго.






















\clearpage


